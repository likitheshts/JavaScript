<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2020 by anonymous (http://jsbin.com/difejazofu/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
</head>
<body>

<script id="jsbin-javascript">
/*let myp=new Promise(function(resolve,reject){
  setTimeout(function(){
    resolve('hurray')
  },1000)
})


myp
.then(function(v)
{
      console.log(v);
      })

*/



function testcall(url){
  return new Promise(function(resolve,reject)
  {
    var request=new XMLHttpRequest();
    request.open('GET',url)
    
    request.onload=function()
    {
      if(request.status==200)
        {
          resolve(request.response)
        }
      else
      {
        reject(Error(request.statusText))
      }
    }
    
    request.onerror=function()
    {
       reject(Error("network issues"))
    }
    
    
    request.send();
    
  });
}

testcall('https://randomuser.me/api/')
.then(function(response)
     {
  console.log('hurrary')
},function(error)
     {
  console.log('error there')
})
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  }
}
</script>
</body>
</html>